
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Utility Bills</title>

<!-- Load style sheets -->
<link rel="stylesheet" href="stylesheets/header.css">
<link rel="stylesheet" href="stylesheets/utilities.css">
<link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="stylesheets/layout.css">

</head>

<body>

    <header id="backAccountLanguage">

        <!-- Back button -->
        <div id="backBox">
            <a href="bills.html">
                <button id="backButton" class="imageButton"></button>
            </a>
           <label for="backButton" class="headerLabel" id="backLabel">Back</label>
        </div>

        <!-- Account Button -->
        <div id="accountBox">
            <button id="accountButton" class="imageButton"></button>
            <label for="accountButton" class="headerLabel" id="accountLabel">Account</label>
        </div>

        <!-- Language Selection -->
        <button id="languageButton" style="font-family: 'Comfortaa';" onclick="swapLang()"> 
            <img id="flag" src="images/englishFlag.png"> 
            <p id="language">English</p> 
        </button>
    </header>

    <h1>Utilities</h1>

    <div id="utilitiesDiv">
        <table id="utilitiesTable">
            <!-- Canned entry -->
            <tr>
                <td>Aerizon</td>
                <td>Amount: $79.00
                    <a href="confirmPayment.html">
                        <button class="payButton" id="pay1">Pay</button>
                    </a>
                </td>
                <td>Due Date: October 22nd, 2021</td>
            </tr>

            <tr>
                <td>Natural Water</td>
                <td>Amount: $20.50
                    <button class="payButton" id="pay2">Pay</button>
                </td>
                <td>Due Date: October 24nd, 2021</td>
            </tr>

            <tr>
                <td>Mister Electrik</td>
                <td>Amount: $34.20
                    <button class="payButton" id="pay3">Pay</button>
                </td>
                <td>Due Date: October 26nd, 2021</td>
            </tr>
        </table>

        
    </div>
    <div id="addBill">
        <a href="addBill.html">
            <button >
                <p style="float:left"><img src="images/add.png" > </p>
                <p id="createNewBill" >Create New Bill</p> 
            </button>
        </a>
    </div>

    <script>
        // document.getElementById("").innerHTML = localStorage.getItem("");
        /*
        document.getElementById("").innerHTML = localStorage.getItem("utilitiesTitle");
        document.getElementById("").innerHTML = localStorage.getItem("amountu");
        document.getElementById("").innerHTML = localStorage.getItem("due");
        */
        var addBill = localStorage.getItem("addBill")
        var sp = localStorage.getItem("serviceProvider",sp);
        var accNum = localStorage.getItem("accNum",accNum)
        var date = localStorage.getItem("date",date)
        console.log(addBill,sp,accNum,date);

        if(addBill == 1){
            var table = document.getElementById("utilitiesTable")
            var row = table.insertRow(0);
            var cell1 = row.insertCell(0);
            var cell2 = row.insertCell(1);
            var cell3 = row.insertCell(2);
            cell1.innerHTML = sp;
            cell2.innerHTML = "Amount $12.20";
            var btn = document.createElement('button')
            btn.type = 'button'
            btn.className = "payButton"
            btn.innerHTML = "Pay"
            cell2.appendChild(btn)
            cell3.innerHTML = "Due Date: " + date
        }
        document.getElementById("pay1").innerHTML = localStorage.getItem("pay");
        document.getElementById("pay2").innerHTML = localStorage.getItem("pay");
        document.getElementById("pay3").innerHTML = localStorage.getItem("pay");
        document.getElementById("createNewBill").innerHTML = localStorage.getItem("createNewBill");
        
        document.getElementById("language").innerHTML = localStorage.getItem("select");
        document.getElementById("backLabel").innerHTML = localStorage.getItem("back");
    
        flag = localStorage.getItem("lang");
        switch(flag) {
            case "english":
                document.getElementById("flag").src = "images/englishFlag.png";
                break;
            case "spanish":
                document.getElementById("flag").src = "images/spanishFlag.png";
                break;
            case "thai":
                document.getElementById("flag").src = "images/thaiFlag.png";
                break;
            case "russian":
                document.getElementById("flag").src = "images/russianFlag.png";
                break;
            default:
                document.getElementById("flag").src = "images/englishFlag.png";
                break;
        }
    
        function swapLang() {
            sessionStorage.setItem("prev", "utilities.html")
            window.location.href = "index.html";
        }
    
    </script>
</html>